0.13.0
================


Data de release:

Tag: `0.13.0 <https://github.com/b2wdigital/async-worker/releases/tag/0.13.0>`_

 * `PR XYZ <https://github.com/b2wdigital/async-worker/pull/XYZ>`_

Raw Commits: `0.12.0 <https://github.com/b2wdigital/async-worker/compare/0.12.0...0.13.0>`_


Notas de atualização
--------------------

Nessa versão não é mais possível declarar um handler HTTP que recebe parametros sem tipos definidos.

Um handler declarado assim:

.. code-block:: python

  from aiohttp import web

  from asyncworker import App, RouteTypes
  from asyncworker.http.wrapper import RequestWrapper

  app = App()


  @app.route(["/one-param"], type=RouteTypes.HTTP, methods=["GET"])
  async def one_param(r):
      return web.json_response(dict(r.query))

Tem que ser agpra migrado para obrigatriamente declarar o tipo do parametro ``r``. Seguindo o que foi
depreciado na versão :ref:`v0.11.5` o melhor a ser feito nesse caso é declarar o tipo desse paramtro como
sendo :py:class:`asyncworker.http.wrapper.RequestWrapper`. Ficando assim:


.. code-block:: python

  from aiohttp import web

  from asyncworker import App, RouteTypes
  from asyncworker.http.wrapper import RequestWrapper

  app = App()


  @app.route(["/one-param"], type=RouteTypes.HTTP, methods=["GET"])
  async def one_param(r: RequestWrapper):
      return web.json_response(dict(r.http_request.query))
